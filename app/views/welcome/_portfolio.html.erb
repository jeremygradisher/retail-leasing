<style>
.hover-container {
  position: relative;
  width: 100%;
}

/*
.image {
  display: block;
  width: 100%;
  height: auto;
}*/

.overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: rgba(0,0,0,0.7);
  overflow: hidden;
  width: 100%;
  height: 0;
  transition: .5s ease;
}

.hover-container:hover .overlay {
  height: 100%;
}

.text {
  /*white-space: nowrap; */
  width:100%;
  color: white;
  font-size: 20px;
  position: absolute;
  overflow: hidden;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
}

</style>





<div class="row" style="margin-top:20px;min-height:70vh;">
  <div class="col-lg-12">
    <% if current_user.is_admin? %>
      <div class="col-lg-4 add-col-height" style="">
        <%= link_to '+ Create Project', new_project_path,
          :class => 'btn btn-primary add-btn', :style => '' %>
      </div>
    <% end %>
    
    <!-- this is the box start -->
    <% @projects.each do |project| %>
    
        <div class="col-lg-4">
          
          <%= link_to project_path(project) do %>
          
          <div class="panel panel-default project-panels" style="">
            <div class="hover-container">
              <div class="panel-heading project-panel-heading" 
                  style="padding:0;height:326px;border-radius: 4px; text-align:center;
                  background-image: url('<% if project.icons.exists? %><%= project.icons.first.icon %><% end %>');">
                
                  <div class="overlay">
                    <div class="text">
                    <h3 class="" style="/*background-color:rgba(0,0,0,0.5);*/color:#fff;/*text-shadow: 2px 2px 4px #333;*/width:100%;
                        margin-top:0;margin-bottom:0;padding-top:10px;padding-bottom:10px;">
                    <%= project.name %></h3>
                    <p style="color:white;padding-left:10px;padding-right:10px;"><%#= truncate(project.description, length:80) %></p>
                    </div>
                  </div>
              </div>
            </div>
          </div>
          
          <% end %>
          
        </div><!-- end col-lg-4 -->
    
    <% end %>
    <!-- this is the box end -->
  </div>
</div><!-- row end -->


<br><br>